package com.xelitexirish.malwareshield.util;

import android.content.Context;

import com.xelitexirish.malwareshield.MainActivity;
import com.xelitexirish.malwareshield.R;
import com.xelitexirish.malwareshield.ui.Dialogs;

public class ResultHelper {

    public static void showResult(Context context, int result, String numberDownloads){

        if(result == EnumStatusCodes.SUCCESS){
            String title = context.getString(R.string.apply_success_title);
            String text = context.getString(R.string.apply_success_text) + " " + numberDownloads;

            MainActivity.sendStatusBroadcast(context, title, text, EnumStatusCodes.ENABLED);

            Dialogs.showRebootDialog(context);
        }else if(result == EnumStatusCodes.REVERT_SUCCESS){
            String title = context.getString(R.string.apply_revert_success_title);
            String text = context.getString(R.string.apply_revert_success_text);
            MainActivity.sendStatusBroadcast(context, title, text, EnumStatusCodes.DISABLED);

            Dialogs.showRebootDialog(context);
        }else if(result == EnumStatusCodes.REVERT_FAIL){
            String title = context.getString(R.string.apply_revert_fail_title);
            String text = context.getString(R.string.apply_revert_fail_text);

            MainActivity.sendStatusBroadcast(context, title, text, EnumStatusCodes.ENABLED);
        }else if (result == EnumStatusCodes.UPDATE_AVAILABLE){
            String title = context.getString(R.string.apply_update_available_title);
            String text = context.getString(R.string.apply_update_available_text);

            MainActivity.sendStatusBroadcast(context, title, text, EnumStatusCodes.UPDATE_AVAILABLE);
        }else if(result == EnumStatusCodes.DOWNLOAD_FAIL){
            String title = context.getString(R.string.apply_download_failed_title);
            String text = context.getString(R.string.apply_download_failed_text);

            MainActivity.sendStatusBroadcast(context, title, text, EnumStatusCodes.DOWNLOAD_FAIL);
        }else if(result == EnumStatusCodes.NO_CONNECTION){
            String title = context.getString(R.string.apply_no_internet_title);
            String text = context.getString(R.string.apply_no_internet_text);

            MainActivity.sendStatusBroadcast(context, title, text, EnumStatusCodes.DOWNLOAD_FAIL);
        }else if(result == EnumStatusCodes.ENABLED){
            MainActivity.updateStatusEnabled(context);
        }else if(result == EnumStatusCodes.DISABLED){
            MainActivity.updateStatusDisabled(context);
        }
    }
}
