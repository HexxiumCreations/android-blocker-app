package com.xelitexirish.malwareshield.db;

import android.net.Uri;
import android.provider.BaseColumns;

public class DatabaseContract {

    private DatabaseContract(){

    }

    interface HostsSourcesColumns {
        String URL = "url";
        String ENABLED = "enabled";
    }

    interface BlacklistColumns {
        String HOSTNAME = "url"; // is url because of legacy reasons
        String ENABLED = "enabled";
    }

    public static final String CONTENT_AUTHORITY = "com.xelitexirish.malwareshield.db";

    private static final Uri BASE_CONTENT_URI = Uri.parse("content://" + CONTENT_AUTHORITY);

    public static final String PATH_HOSTS_SOURCES = "hostssources";

    public static final String PATH_BLACKLIST = "blacklist";


    public static class HostsSources implements HostsSourcesColumns, BaseColumns {

        public static final Uri CONTENT_URI = BASE_CONTENT_URI.buildUpon().appendPath(PATH_HOSTS_SOURCES).build();

        /**
         * Use if multiple items get returned
         */
        public static final String CONTENT_TYPE = "vnd.android.cursor.dir/vnd.malwareshield.hostssources";

        /**
         * Use if a single item is returned
         */
        public static final String CONTENT_ITEM_TYPE = "vnd.android.cursor.item/vnd.malwareshield.hostssources";

        /**
         * Default "ORDER BY" clause.
         */
        public static final String DEFAULT_SORT = HostsSourcesColumns.URL + " ASC";

        public static Uri buildUri(String id) {
            return CONTENT_URI.buildUpon().appendPath(id).build();
        }

        public static String getId(Uri uri) {
            return uri.getLastPathSegment();
        }
    }

    public static class Blacklist implements BlacklistColumns, BaseColumns {

        public static final Uri CONTENT_URI = BASE_CONTENT_URI.buildUpon().appendPath(PATH_BLACKLIST).build();

        /**
         * Use if multiple items get returned
         */
        public static final String CONTENT_TYPE = "vnd.android.cursor.dir/vnd.malwareshield.blacklist";

        /**
         * Use if a single item is returned
         */
        public static final String CONTENT_ITEM_TYPE = "vnd.android.cursor.item/vnd.malwareshield.blacklist";

        /**
         * Default "ORDER BY" clause.
         */
        public static final String DEFAULT_SORT = BlacklistColumns.HOSTNAME + " ASC";

        public static Uri buildUri(String id) {
            return CONTENT_URI.buildUpon().appendPath(id).build();
        }

        public static String getId(Uri uri) {
            return uri.getLastPathSegment();
        }
    }
}
